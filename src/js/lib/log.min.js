/**
 * Log.js debugging tool
 * Author: Justin Taylor
 */
(function(g,f){var a=f.Log={};a.enabled=true;f.log=function(){a._output(arguments,a._levels.LOG)};a.info=function(){a._output(arguments,a._levels.INFO)};a.status=function(){a._output(arguments,a._levels.STATUS)};a.debug=function(){a._output(arguments,a._levels.DEBUG)};a.warn=function(){a._output(arguments,a._levels.WARNING)};a.error=function(){a._output(arguments,a._levels.ERROR)};a.dump=function(){var b=f.top.consoleRef;b=f.open("","logdump");b.document.writeln('<html><head><title>Log</title></head><body bgcolor=white onLoad="self.focus()"><pre>'+
a._getHistory()+"</pre></body></html>");b.document.close()};a.enableLogFile=function(){a._toFile=true;a.info(a._getInfo())};a.enableOutputToDOM=function(b){a._dom=b?g(b):g("body")};a.dumpToFile=function(){a._logToFile(a._getHistory())};a._history=[];a._toFile=false;a._levels={LOG:"LOG",INFO:"INFO",STATUS:"STATUS",DEBUG:"DEBUG",WARNING:"WARNING",ERROR:"ERROR"};a._output=function(b,d){if(!a.enabled)return false;var c=b?d+"\t:: "+Array.prototype.join.call(b," "):d,e=a._levels;a._history.push(c);switch(d){case e.STATUS:case e.INFO:e=
"info";break;case e.ERROR:e="error";break;case e.WARNING:e="warn";break;case e.DEBUG:e="debug";break;default:e="log"}a._delegate(e,b);a._toFile&&a._logToFile(c);a._dom&&a._logToDOM(c)};a._delegate=function(b,d){if(typeof f.console!="undefined"){var c=Object.prototype.hasOwnProperty;if(c.call(f.console,b))c=f.console[b];else if(c.call(f.console,"log"))c=f.console.log;else return;c.apply?c.apply(null,d):c(Array.prototype.join.call(d," "))}};a._logToFile=function(b){g.ajax({url:"Log.php?msg="+encodeURIComponent(b)})};
a._logToDOM=function(b){a._dom.append(b+"<br>")};a._getInfo=function(){var b="-------------\n",d=f.navigator,c;for(c in d)if(typeof d[c]=="string"||typeof d[c]=="boolean")b+=c+": "+d[c]+"\n";return b};a._getHistory=function(){var b=a._getInfo(),d=a._history,c;for(c in d)b+=d[c]+"\n";return b}})(jQuery,window,document);
