/**
 * Log.js debugging tool
 * Author: Justin Taylor
 */
(function(g,f){var a=f.Log={};a.enabled=true;f.log=function(){a._output(arguments,a._levels.LOG)};a.info=function(){a._output(arguments,a._levels.INFO)};a.status=function(){a._output(arguments,a._levels.STATUS)};a.debug=function(){a._output(arguments,a._levels.DEBUG)};a.warn=function(){a._output(arguments,a._levels.WARNING)};a.error=function(){a._output(arguments,a._levels.ERROR)};a.dump=function(){var b=f.top.consoleRef;b=f.open("","logdump");b.document.writeln('<html><head><title>Log</title></head><body bgcolor=white onLoad="self.focus()"><pre>'+
a._getHistory()+"</pre></body></html>");b.document.close()};a.enableLogFile=function(){a._toFile=true;a.info(a._getInfo())};a.enableOutputToDOM=function(b){a._dom=b?g(b):g("body")};a.dumpToFile=function(){a._logToFile(a._getHistory())};a._history=[];a._toFile=false;a._levels={LOG:"LOG",INFO:"INFO",STATUS:"STATUS",DEBUG:"DEBUG",WARNING:"WARNING",ERROR:"ERROR"};a._output=function(b,d){if(!a.enabled)return false;var c=b?d+"\t:: "+Array.prototype.join.call(b," "):d,e=a._levels;a._history.push(c);switch(d){case e.STATUS:case e.INFO:e=
"info";break;case e.ERROR:e="error";break;case e.WARNING:e="warn";break;case e.DEBUG:e="debug";break;default:e="log"}a._delegate(e,b);a._toFile&&a._logToFile(c);a._dom&&a._logToDOM(c)};a._delegate=function(b,d){if(typeof f.console!="undefined"){var c=Object.prototype.hasOwnProperty;if(c.call(f.console,b))c=f.console[b];else if(c.call(f.console,"log"))c=f.console.log;else return;c.apply?c.apply(null,d):c(Array.prototype.join.call(d," "))}};a._logToFile=function(b){g.ajax({url:"Log.php?msg="+encodeURIComponent(b)})};
a._logToDOM=function(b){a._dom.append(b+"<br>")};a._getInfo=function(){var b="-------------\n",d=f.navigator,c;for(c in d)if(typeof d[c]=="string"||typeof d[c]=="boolean")b+=c+": "+d[c]+"\n";return b};a._getHistory=function(){var b=a._getInfo(),d=a._history,c;for(c in d)b+=d[c]+"\n";return b}})(jQuery,window,document);
/*

 JS Signals <http://millermedeiros.github.com/js-signals/>
 Released under the MIT license
 Author: Miller Medeiros
 Version: 0.7.1 - Build: 244 (2011/11/29 12:33 PM)
*/
(function(g){function f(a,b,d,h,c){this._listener=b;this._isOnce=d;this.context=h;this._signal=a;this._priority=c||0}function e(a,b){if(typeof a!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}var c={VERSION:"0.7.1"};f.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?
this._signal.remove(this._listener):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal;delete this._listener;delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};c.Signal=function(){this._bindings=[];this._prevParams=null};c.Signal.prototype={memorize:!1,_shouldPropagate:!0,
active:!0,_registerListener:function(a,b,d,c){var e=this._indexOfListener(a);if(e!==-1){if(a=this._bindings[e],a.isOnce()!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+(!b?"":"Once")+"() the same listener without removing the relationship first.");}else a=new f(this,a,b,d,c),this._addBinding(a);this.memorize&&this._prevParams&&a.execute(this._prevParams);return a},_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);
this._bindings.splice(b+1,0,a)},_indexOfListener:function(a){for(var b=this._bindings.length;b--;)if(this._bindings[b]._listener===a)return b;return-1},has:function(a){return this._indexOfListener(a)!==-1},add:function(a,b,d){e(a,"add");return this._registerListener(a,!1,b,d)},addOnce:function(a,b,d){e(a,"addOnce");return this._registerListener(a,!0,b,d)},remove:function(a){e(a,"remove");var b=this._indexOfListener(a);b!==-1&&(this._bindings[b]._destroy(),this._bindings.splice(b,1));return a},removeAll:function(){for(var a=
this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),d=this._bindings.length,c;if(this.memorize)this._prevParams=b;if(d){c=this._bindings.slice();this._shouldPropagate=!0;do d--;while(c[d]&&this._shouldPropagate&&c[d].execute(b)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();
delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};typeof define==="function"&&define.amd?define("signals",[],c):typeof module!=="undefined"&&module.exports?module.exports=c:g.signals=c})(this);